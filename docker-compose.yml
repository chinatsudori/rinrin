version: "3.9"
services:
  bot:
    image: yuribot:latest
    build: .
    env_file:
      - ./.env
    environment:
      DISCORD_TOKEN: ${DISCORD_TOKEN}
      TZ: America/Los_Angeles
      BOT_DB_PATH: /app/data/bot.sqlite3
    volumes:
      - botdata:/app/data:rw            # this is the persistent mount
    restart: unless-stopped
    user: "10001:10001"
    networks:
      - npm_default

networks:
  npm_default:
    external: true

volumes:
  botdata:
